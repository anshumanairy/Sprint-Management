<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Product Console
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css" integrity="sha256-XPTBwC3SBoWHSmKasAk01c08M6sIA5gF5+sRxqak2Qs=" crossorigin="anonymous" />
   <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js" integrity="sha256-z0oKYg6xiLq3yJGsp/LsY9XykbweQlHl42jHv2XTBz4=" crossorigin="anonymous"></script>
   <script>
     $(function () {
       $("#datetimepicker1").datetimepicker({
         format: 'DD/MM/YYYY',
       });
     });
   </script>
   <script>
     $(function () {
       $("#datetimepicker2").datetimepicker({
         format: 'DD/MM/YYYY',
       });
     });
   </script>
   <script>
     $(function () {
       $("#datetimepicker3").datetimepicker({
         format: 'DD/MM/YYYY',
       });
     });
   </script>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">

  {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static '/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/paper-dashboard.css' %}">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  <style media="screen">
      .scrollable-menu {
      height: auto;
      max-height: 200px;
      overflow-x: hidden;
    }
    #spr{
      padding-top: 70px;
    }
    input[type="text"]::placeholder,input[type="password"]::placeholder{
      color:lightgrey;
    }
    #back{
      background-color:   #f2f5f2;
    }
    #a{
      background-color: white;
      color:black;
    }
    #f{
      width:550px;
      padding-left: 15px;
      font:10px;
    }
    .bootstrap-datetimepicker-widget.dropdown-menu{
      width:20rem;
    }
  </style>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  </head>

  <body>
    <div id="re">
    <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">
      <button class="w3-bar-item w3-button w3-large"
      onclick="w3_close()">Close &times;</button>
      <a href="{% url 'product' %}" class="w3-bar-item w3-button">Product Console</a>
      <a href="{% url 'view_story' %}" class="w3-bar-item w3-button">Stories</a>
      <a href="{% url 'allocation' %}" class="w3-bar-item w3-button">Allocation Dashboard</a>
      <a href="{% url 'qaprg' %}" class="w3-bar-item w3-button">Progress</a>
      <a href="{% url 'bandwidth' %}" class="w3-bar-item w3-button">Sprint Bandwidth</a>
      <a href="{% url 'tasks' %}l" class="w3-bar-item w3-button">All Tasks</a>
      <a href="{% url 'login' %}" class="w3-bar-item w3-button"><b>Logout</b></a>
    </div>

    <div id="main">

    <div class="w3-teal">
      <button id="openNav" class="w3-button w3-teal w3-xlarge" onclick="w3_open()">&#9776;</button>
      Sprint Management
    </div>

    <script>
    function w3_open() {
      document.getElementById("main").style.marginLeft = "25%";
      document.getElementById("mySidebar").style.width = "25%";
      document.getElementById("mySidebar").style.display = "block";
      document.getElementById("openNav").style.display = 'none';
    }
    function w3_close() {
      document.getElementById("main").style.marginLeft = "0%";
      document.getElementById("mySidebar").style.display = "none";
      document.getElementById("openNav").style.display = "inline-block";
    }
    </script>

<form class="post-form" method='POST'>
  {% csrf_token %}
  <div class="container-fluid">
      <div class="col-md-12" id="spr">
          <select class="chosen" name="select_sprint">
            {% for product in data %}
            <option> {{ product.name }}</option>
              {% endfor %}
          </select>
      </div>
      <div class="container-fluid">
          <button class="btn btn-primary btn-block col-md-1" type="submit" name="submit_sprint"><small>View Stories</small></button>
      </div>
  </div>
</form>



<div class="container-fluid">
  <div class="col-md-2">
    <button class="btn btn-primary btn-block" onclick="w4_open()" id="sprint_btn"><small>New Sprint</small></button>
  </div>
</div>


<form class="post-form w3-animate-top" style="display:none" method='POST' id="f">
  {% csrf_token %}
  <div class="container">
    <div class="col-sm-20">
      <div class="card card-user" id="back">
        <div class="card-header">
          <h5 class="card-title">Create Sprint</h5>
        </div>

        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Sprint Name</label>
                {{ form.name }}
              </div>
            </div>
          </div>

          <div class="row">
              <div class='col-md-6 pr-1'>
                  <div class="form-group">
                      <label>Sprint Start Date</label>
                      <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                        {{ form.sprint_start_date }}
                        <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                          <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                      </div>

                      <script>
                        $(function () {
                          $("#datetimepicker1").datetimepicker({
                            format: 'DD/MM/YYYY',
                          });
                        });
                      </script>

                  </div>
              </div>
          </div>

          <div class="row">
              <div class='col-sm-8 pr-1'>
                  <div class="form-group">
                      <label>Sprint Dev End Date</label>
                      <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
                        {{ form.sprint_dev_end_date }}
                        <div class="input-group-append" data-target="#datetimepicker2" data-toggle="datetimepicker">
                          <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                      </div>

                      <script>
                        $(function () {
                          $("#datetimepicker2").datetimepicker({
                            format: 'DD/MM/YYYY',
                          });
                        });
                      </script>

                  </div>
              </div>
          </div>

          <div class="row">
              <div class='col-sm-8 pr-1'>
                  <div class="form-group">
                      <label>Sprint QA End Date</label>
                      <div class="input-group date" id="datetimepicker3" data-target-input="nearest">
                        {{ form.sprint_qa_end_date }}
                        <div class="input-group-append" data-target="#datetimepicker3" data-toggle="datetimepicker">
                          <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                      </div>

                      <script>
                        $(function () {
                          $("#datetimepicker3").datetimepicker({
                            format: 'DD/MM/YYYY',
                          });
                        });
                      </script>

                  </div>
              </div>
          </div>

          <div class="row">
            <div class="col-md-6 pr-1">
              <div class="form-group">
                <label>Holidays Available</label>
                {{ form.holidays }}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="update ml-auto mr-auto">
              <input type="button" name="sprint_button" class="btn btn-primary btn-round" id="reg1" value="Create Sprint">
            </div>
          </div>

          <div class="row">
            <div class="update ml-auto mr-auto">
              <button class="btn btn-primary btn-block" onclick="w4_close()" id="sprint_close">Close</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</form>

<!-- <script type="text/javascript">
    $("#regform").submit(function(){
      $.ajax({
        type:'POST',
        data: $('#f').serialize(),
        success: function(data){
          $("#re").html(data);
          alert('done');
        }
      });
    });
</script> -->

<!-- <script
     src="https://code.jquery.com/jquery-3.4.1.min.js"
     integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
     crossorigin="anonymous"></script> -->

<div id="m">

<script>
  function w4_open() {
    document.getElementById("m").style.marginTop = "0%";
    document.getElementById("f").style.display = "block";
    document.getElementById("sprint_btn").style.display = 'none';
  }
  function w4_close() {
    document.getElementById("m").style.marginTop = "0%";
    document.getElementById("f").style.display = "none";
    document.getElementById("sprint_btn").style.display = "inline-block";
  }
</script>


</body>

</html>
