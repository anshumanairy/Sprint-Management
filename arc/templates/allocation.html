<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Allocation Dashboard
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <script
        src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static '/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/paper-dashboard.css' %}">


  <style media="screen">
    body{
      font-size: 10px;
    }
      .scrollable-menu {
      height: auto;
      max-height: 200px;
      overflow-x: hidden;
    }
    #total{
      font-size: 15px;
    }
    #tab1{
      text-align: center;
      font-size: 10px;
      /* width:1000px; */
      border: solid lightgrey .5px;
      /* padding: 40px; */
    }
    #tab2{
      text-align: center;
      font-size: 10px;
      /* width:1000px; */
      border: solid lightgrey .5px;
      /* padding: 40px; */
    }
    .table{
      border: .5px solid lightgrey;
    }
    th,td{
      width:10px;
    }
    #spr{
      padding-top: 20px;
    }
    #c{
      height:40px;
      width:55px;
    }
    td{
      border: 1px solid lightgrey;
    }
    #sel,#d{
      display: inline-block;
    }
    #d{
      padding-left: 20px;
    }
  </style>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body id="re">
  <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">
    <button class="w3-bar-item w3-button w3-large"
    onclick="w3_close()">Close &times;</button>
    <a href="{% url 'product' %}" class="w3-bar-item w3-button">Product Console</a>
    <a href="{% url 'view_story' %}" class="w3-bar-item w3-button">Stories</a>
    <a href="{% url 'allocation' %}" class="w3-bar-item w3-button">Allocation Dashboard</a>
    <a href="{% url 'qaprg' %}" class="w3-bar-item w3-button">Progress</a>
    <a href="{% url 'bandwidth' %}" class="w3-bar-item w3-button">Sprint Bandwidth</a>
    <a href="{% url 'tasks' %}l" class="w3-bar-item w3-button">All Tasks</a>
    <a href="{% url 'login' %}" class="w3-bar-item w3-button"><b>Logout</b></a>
  </div>

  <div id="main">

  <div class="w3-teal">
    <button id="openNav" class="w3-button w3-teal w3-xlarge" onclick="w3_open()">&#9776;</button>
    Sprint Management
  </div>

  <script>
  function w3_open() {
    document.getElementById("main").style.marginLeft = "25%";
    document.getElementById("mySidebar").style.width = "25%";
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("openNav").style.display = 'none';
  }
  function w3_close() {
    document.getElementById("main").style.marginLeft = "0%";
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("openNav").style.display = "inline-block";
  }
  </script>

  <div class="container-fluid">
    <div class="col-md-2">
      <a href="/prod/"><button class="btn btn-primary btn-block" id="allocate"><small>Back to Product Console</small></button></a>
    </div>
  </div>


<div class="content">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title"><b><u>Allocation Dashboard</u></b></h4>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table" id="tab1">
              <thead class=" text-primary">
                <th>Title</th>
                <th>Jira ID</th>
                <th>JAVA</th>
                <th>PHP</th>
                <th>HTML</th>
                <th>QA</th>
                <th>Assign</th>
              </thead>
              <tbody>
                {% for dash in dashboard %}
                <tr>
                  <td>{{ dash.story_name }}</td>
                  <td>{{ dash.jira }}</td>

                  <form method="GET" id="form_id">
                    <td class="t">
                    <!-- dropdown developer -->
                      <select  name="java_sel" class="chosen">
                        {% for d22 in d2 %}
                          <option>{{ d22.name }}</option>
                        {% endfor %}
                      </select>
                  <!-- point selector -->
                      <input type="hidden" name="s_name" value="{{ dash.story_name }}">
                      <input type="number" name="points1" min="0" value="0" id="c">
                    </td>

                    <td class="t">
                      <!-- dropdown developer -->
                      <select name="php_sel" class="chosen">
                        {% for d33 in d3 %}
                          <option>{{ d33.name }}</option>
                        {% endfor %}
                      </select>
                <!-- point selector -->
                      <input type="hidden" name="s_name" value="{{ dash.story_name }}">
                      <input type="number" name="points2" min="0" value="0" id="c">
                    </td>

                    <td class="t">
                      <!-- dropdown developer -->
                      <select name="html_sel" class="chosen">
                        {% for d44 in d4 %}
                          <option>{{ d44.name }}</option>
                        {% endfor %}
                      </select>
                <!-- point selector -->
                      <input type="hidden" name="s_name" value="{{ dash.story_name }}">
                      <input type="number" name="points3" min="0" value="0" id="c">
                    </td>

                      <td class="t">
                      <!-- dropdown developer -->
                        <select name="qa_sel" class="chosen">
                          {% for d55 in d5 %}
                            <option>{{ d55.name }}</option>
                          {% endfor %}
                        </select>
                  <!-- point selector -->
                        <input type="hidden" name="s_name" value="{{ dash.story_name }}">
                        <input type="number" name="points4" min="0" value="0" id="c">
                      </td>

                    <td><input type="submit" class="btn-xs btn-info" id="reg1" value="Assign"></td>
                    </form>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="content-fluid">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title"><b><u>Available Developers</u></b></h4>
        </div>
        <div class="card-body" id="con">
          <div class="table-responsive" id="con">
            <table class="table" id="tab2">
              <thead class=" text-primary">
                <th></th>
                <th>DEV</th>
                <th>Total</th>
                {% for d in d1 %}
                  <th>{{ d.name }}</th>
                {% endfor %}
              </thead>
              <tbody>
                <tr>
                  <td>JAVA</td>
                  <td>Bandwidth</td>
                  <td>{{ sjava }}</td>
                  {% for d in d1 %}
                    <td>{{ d.spjava }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td></td>
                  <td>Story Points</td>
                  <td>{{ a }}</td>
                  {% for i in list1 %}
                    <td>{{ i }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td>PHP</td>
                  <td>Bandwidth</td>
                  <td>{{ sphp }}</td>
                  {% for d in d1 %}
                    <td>{{ d.spphp }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td></td>
                  <td>Story Points</td>
                  <td>{{ b }}</td>
                  {% for i in list2 %}
                    <td>{{ i }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td>HTML</td>
                  <td>Bandwidth</td>
                  <td>{{ shtml }}</td>
                  {% for d in d1 %}
                    <td>{{ d.sphtml }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td></td>
                  <td>Story Points</td>
                  <td>{{ c }}</td>
                  {% for i in list3 %}
                    <td>{{ i }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td>QA</td>
                  <td>Bandwidth</td>
                  <td>{{ sqa }}</td>
                  {% for d in d1 %}
                    <td>{{ d.spqa }}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <td></td>
                  <td>Story Points</td>
                  <td>{{ d }}</td>
                  {% for i in list4 %}
                    <td>{{ i }}</td>
                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- <script type="text/javascript">
    var frm = $('#form_id');
    frm.submit(function () {
      if (this.id == 'form_id'){
          $.ajax({
              type: $('#form_id').attr('method'),
              data: $('#form_id').serialize(),
              success: function(data) {
                $("#re").html(data);
              },
          });
        return false;
      }
    });
</script> -->

</body>
</html>
